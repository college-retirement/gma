angular.module("gmaApp",["gmaApp.filters","gmaApp.controllers","ngRoute","ngAnimate","ui.utils","ui.bootstrap","persona"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"assets/views/home.html",controller:"MainCtrl"}).when("/initial",{templateUrl:"assets/views/initialData.html",controller:"InitialDataController"}).when("/drafts/:draft",{templateUrl:"assets/views/initialData.html",controller:"DraftCtrl"}).otherwise("/")}]),angular.module("gmaApp").controller("AppCtrl",["$rootScope","$scope","Persona",function(){}]),angular.module("gmaApp").controller("MainCtrl",["$rootScope","$scope","Persona","$timeout","$http",function(a,b,c,d,e){c.status(),b.drafts=[],b.login=function(){b.$emit("loginClick")},b.getUser=function(){return c.getUser()},e.get("/drafts").then(function(a){b.drafts=a.data.drafts})}]),angular.module("gmaApp").controller("PersonaCtrl",["$rootScope","$scope","Persona",function(a,b,c){b.login=function(){c.verify()},b.logout=function(){c.logout()},b.status=function(){c.status()},b.dumpStatus=function(){console.log(b.status())},b.getUser=function(){return c.getUser()},a.$on("loginClick",function(){b.login()})}]),angular.module("gmaApp").controller("ExtendedProfileController",["$rootScope","$scope",function(){}]),angular.module("gmaApp").controller("DraftCtrl",["$scope","$http","Persona","$location","states","$route",function(a,b,c,d,e,f){c.status(),a.states=e,a.currentSchool=null,a.collegeList={},a.collegesLoading=!1,a.$watch("currentSchool",function(){""!=a.currentSchool&&"object"!=typeof a.currentSchool&&(a.collegesLoading=!0,b.post("/colleges.json",{name:a.currentSchool}).then(function(b){a.collegeList=b.data,a.collegesLoading=!1}))}),a.ownershipTypes=["Personally","Jointly","LLC","S-Corp","Partnership","C-Corp","Other"],a.liabilityTypes=["Car Loan","Credit Card","First Mortgage","Home Equity Line Of Credit","Life Insurance Premium","Other","Second Mortgage"],a.assetTypes=["Annuities (Non Qualified - Not Retirement)","Bonds (including Tax - Exempt)","Business Assets","Cash, Savings","Certificates of Deposit","Checking","Money Market Funds","Mutual Funds","Other Assets","Pre-Paid Tuition Accounts (529 Plans)","Sibling Assets Held By Parents","Stocks","Treasury Bills"],a.retirementTypes=["401(k)","403(b)","IRA","Keogh/SEP/Simple","Pension Fund","Qualified Annuities","Rollover"],a.student={email:c.getUser().email,schools:[],family:{members:[],realEstate:[],assets:[],liabilities:[],retirement:[]}},console.log(f),b.get("/drafts/"+f.current.params.draft).then(function(b){a.student=b.data,a.continue=!0,a.draftLoaded=!0}),a.addSchool=function(){a.student.schools.push(a.currentSchool),a.currentSchool=null},a.updateSchool=function(b){a.currentSchool=b},a.updateOrCreateAccount=function(){var d={email:c.getUser().email||a.student.email,name:{first:a.student.name.first,middle:a.student.name.middle,last:a.student.name.last},gender:a.student.gender,phone:a.student.phone};b.put("/account",d).then(function(){})},a.saveDraft=function(){b.put("/drafts",a.student)},a.addFamily=function(){a.student.family.members.push({student:!1})},a.addProperty=function(){a.student.family.realEstate.push({})},a.addAsset=function(){a.student.family.assets.push({})},a.addLiability=function(){a.student.family.liabilities.push({})},a.addRetirement=function(){a.student.family.retirement.push({})}}]),angular.module("gmaApp.controllers",[]),angular.module("gmaApp.controllers").controller("InitialDataController",["$rootScope","$scope","states","$http","Persona",function(a,b,c,d,e){e.status(),b.getUser=function(){return e.getUser()},b.states=c,b.currentSchool=null,b.collegeList={},b.collegesLoading=!1,b.$watch("currentSchool",function(){""!=b.currentSchool&&"object"!=typeof b.currentSchool&&(b.collegesLoading=!0,d.post("/colleges.json",{name:b.currentSchool}).then(function(a){b.collegeList=a.data,b.collegesLoading=!1}))}),b.ownershipTypes=["Personally","Jointly","LLC","S-Corp","Partnership","C-Corp","Other"],b.liabilityTypes=["Car Loan","Credit Card","First Mortgage","Home Equity Line Of Credit","Life Insurance Premium","Other","Second Mortgage"],b.assetTypes=["Annuities (Non Qualified - Not Retirement)","Bonds (including Tax - Exempt)","Business Assets","Cash, Savings","Certificates of Deposit","Checking","Money Market Funds","Mutual Funds","Other Assets","Pre-Paid Tuition Accounts (529 Plans)","Sibling Assets Held By Parents","Stocks","Treasury Bills"],b.retirementTypes=["401(k)","403(b)","IRA","Keogh/SEP/Simple","Pension Fund","Qualified Annuities","Rollover"],b.student={email:b.getUser().email,schools:[],family:{members:[],realEstate:[],assets:[],liabilities:[],retirement:[]}},b.addSchool=function(){b.student.schools.push(b.currentSchool),b.currentSchool=null},b.updateSchool=function(a){b.currentSchool=a},b.updateOrCreateAccount=function(){var a={email:e.getUser().email||b.student.email,name:{first:b.student.name.first,middle:b.student.name.middle,last:b.student.name.last},gender:b.student.gender,phone:b.student.phone};d.put("/account",a).then(function(){})},b.saveDraft=function(){d.post("/drafts",b.student)},b.addFamily=function(){b.student.family.members.push({student:!1})},b.addProperty=function(){b.student.family.realEstate.push({})},b.addAsset=function(){b.student.family.assets.push({})},b.addLiability=function(){b.student.family.liabilities.push({})},b.addRetirement=function(){b.student.family.retirement.push({})}}]),angular.module("gmaApp.filters",[]).filter("fullState",function(){return function(a){var b=[{name:"Alabama",abbreviation:"AL"},{name:"Alaska",abbreviation:"AK"},{name:"American Samoa",abbreviation:"AS"},{name:"Arizona",abbreviation:"AZ"},{name:"Arkansas",abbreviation:"AR"},{name:"California",abbreviation:"CA"},{name:"Colorado",abbreviation:"CO"},{name:"Connecticut",abbreviation:"CT"},{name:"Delaware",abbreviation:"DE"},{name:"District Of Columbia",abbreviation:"DC"},{name:"Federated States Of Micronesia",abbreviation:"FM"},{name:"Florida",abbreviation:"FL"},{name:"Georgia",abbreviation:"GA"},{name:"Guam",abbreviation:"GU"},{name:"Hawaii",abbreviation:"HI"},{name:"Idaho",abbreviation:"ID"},{name:"Illinois",abbreviation:"IL"},{name:"Indiana",abbreviation:"IN"},{name:"Iowa",abbreviation:"IA"},{name:"Kansas",abbreviation:"KS"},{name:"Kentucky",abbreviation:"KY"},{name:"Louisiana",abbreviation:"LA"},{name:"Maine",abbreviation:"ME"},{name:"Marshall Islands",abbreviation:"MH"},{name:"Maryland",abbreviation:"MD"},{name:"Massachusetts",abbreviation:"MA"},{name:"Michigan",abbreviation:"MI"},{name:"Minnesota",abbreviation:"MN"},{name:"Mississippi",abbreviation:"MS"},{name:"Missouri",abbreviation:"MO"},{name:"Montana",abbreviation:"MT"},{name:"Nebraska",abbreviation:"NE"},{name:"Nevada",abbreviation:"NV"},{name:"New Hampshire",abbreviation:"NH"},{name:"New Jersey",abbreviation:"NJ"},{name:"New Mexico",abbreviation:"NM"},{name:"New York",abbreviation:"NY"},{name:"North Carolina",abbreviation:"NC"},{name:"North Dakota",abbreviation:"ND"},{name:"Northern Mariana Islands",abbreviation:"MP"},{name:"Ohio",abbreviation:"OH"},{name:"Oklahoma",abbreviation:"OK"},{name:"Oregon",abbreviation:"OR"},{name:"Palau",abbreviation:"PW"},{name:"Pennsylvania",abbreviation:"PA"},{name:"Puerto Rico",abbreviation:"PR"},{name:"Rhode Island",abbreviation:"RI"},{name:"South Carolina",abbreviation:"SC"},{name:"South Dakota",abbreviation:"SD"},{name:"Tennessee",abbreviation:"TN"},{name:"Texas",abbreviation:"TX"},{name:"Utah",abbreviation:"UT"},{name:"Vermont",abbreviation:"VT"},{name:"Virgin Islands",abbreviation:"VI"},{name:"Virginia",abbreviation:"VA"},{name:"Washington",abbreviation:"WA"},{name:"West Virginia",abbreviation:"WV"},{name:"Wisconsin",abbreviation:"WI"},{name:"Wyoming",abbreviation:"WY"}],c=jQuery.grep(b,function(b){return b.abbreviation===a});return c.length>0?c[0].name:"State"}}),angular.module("persona",[]),angular.module("persona").factory("Persona",["$http","$q",function(a,b){var c={user:{},getUser:function(){return c.user.hasOwnProperty("email")?c.user:!1},verify:function(){var d=b.defer();return navigator.id.get(function(b){a.post("/persona/verify",{assertion:b}).then(function(a){"okay"!=a.data.status?d.reject(a.data.reason):(c.user=a.data.user,d.resolve(a.data.email))})}),d.promise},logout:function(){return a.post("/persona/logout").then(function(a){return c.user={},"okay"!=a.data.status&&b.reject(a.data.reason),a.data.email})},status:function(){a.post("/persona/status").then(function(a){return c.user=a.data.user,c.user})}};return c.status(),c}]),angular.module("gmaApp").service("states",function(){var a=[{name:"Alabama",abbreviation:"AL"},{name:"Alaska",abbreviation:"AK"},{name:"American Samoa",abbreviation:"AS"},{name:"Arizona",abbreviation:"AZ"},{name:"Arkansas",abbreviation:"AR"},{name:"California",abbreviation:"CA"},{name:"Colorado",abbreviation:"CO"},{name:"Connecticut",abbreviation:"CT"},{name:"Delaware",abbreviation:"DE"},{name:"District Of Columbia",abbreviation:"DC"},{name:"Federated States Of Micronesia",abbreviation:"FM"},{name:"Florida",abbreviation:"FL"},{name:"Georgia",abbreviation:"GA"},{name:"Guam",abbreviation:"GU"},{name:"Hawaii",abbreviation:"HI"},{name:"Idaho",abbreviation:"ID"},{name:"Illinois",abbreviation:"IL"},{name:"Indiana",abbreviation:"IN"},{name:"Iowa",abbreviation:"IA"},{name:"Kansas",abbreviation:"KS"},{name:"Kentucky",abbreviation:"KY"},{name:"Louisiana",abbreviation:"LA"},{name:"Maine",abbreviation:"ME"},{name:"Marshall Islands",abbreviation:"MH"},{name:"Maryland",abbreviation:"MD"},{name:"Massachusetts",abbreviation:"MA"},{name:"Michigan",abbreviation:"MI"},{name:"Minnesota",abbreviation:"MN"},{name:"Mississippi",abbreviation:"MS"},{name:"Missouri",abbreviation:"MO"},{name:"Montana",abbreviation:"MT"},{name:"Nebraska",abbreviation:"NE"},{name:"Nevada",abbreviation:"NV"},{name:"New Hampshire",abbreviation:"NH"},{name:"New Jersey",abbreviation:"NJ"},{name:"New Mexico",abbreviation:"NM"},{name:"New York",abbreviation:"NY"},{name:"North Carolina",abbreviation:"NC"},{name:"North Dakota",abbreviation:"ND"},{name:"Northern Mariana Islands",abbreviation:"MP"},{name:"Ohio",abbreviation:"OH"},{name:"Oklahoma",abbreviation:"OK"},{name:"Oregon",abbreviation:"OR"},{name:"Palau",abbreviation:"PW"},{name:"Pennsylvania",abbreviation:"PA"},{name:"Puerto Rico",abbreviation:"PR"},{name:"Rhode Island",abbreviation:"RI"},{name:"South Carolina",abbreviation:"SC"},{name:"South Dakota",abbreviation:"SD"},{name:"Tennessee",abbreviation:"TN"},{name:"Texas",abbreviation:"TX"},{name:"Utah",abbreviation:"UT"},{name:"Vermont",abbreviation:"VT"},{name:"Virgin Islands",abbreviation:"VI"},{name:"Virginia",abbreviation:"VA"},{name:"Washington",abbreviation:"WA"},{name:"West Virginia",abbreviation:"WV"},{name:"Wisconsin",abbreviation:"WI"},{name:"Wyoming",abbreviation:"WY"}];return a});